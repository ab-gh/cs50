{% extends "layout.html" %}

{% block title %}
    Quote
{% endblock %}

{% block main %}
    <h1>Get a stock price</h1>
    {% if show_error %}
    <div class="row justify-content-center">
        <div class="col-4 pt-3">
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ show_error }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>
    {% endif %}
    <form action="/quote" method="post">
    <div class="row justify-content-center">
        <div class="col-4 pt-3">
            <div class="input-group mb-3">
                <input name="symbol" id="symbol" type="text" class="form-control" placeholder="Trade symbol" aria-label="Symbol" aria-describedby="basic-addon1">
            </div>
            <input disabled class="btn btn-primary" id="submit" type="submit" tabindex="-1" value="Search">
        </div>
    </div>
    </form>
    {% if render_card %}
    <div class="row justify-content-center">
        <div class="col-4 pt-3 justify-content-center">
            <div class="card justify-content-center" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">{{ stock_name }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">{{ stock_symbol }}</h6>
                    <p class="card-text"><h1 class="stock-price">${{ stock_price }}</h1><h3 class="per-stock"> / stock</h3></p>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <script>
        document.querySelector("#symbol").onkeyup = function() {
            if (document.querySelector("#symbol").value === "") {
                document.querySelector("#submit").disabled = true;
            } else {
                document.querySelector("#submit").disabled = false;
            }
        }
    </script>
{% endblock %}